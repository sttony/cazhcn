\chapter{图和图的遍历}
\section{概述}
大量的问题可以转换成某种图的问题。这些问题不仅来源于计算机的相互连接，而且
来自科学、工业、商业。解决许多图问题的有效算法的发展，对人类解决所有这些
领域中实际问题的能力有重要的影响。然而，许多重要的图问题没有有效的解决。
对于已有解决的，也不能肯定当前已知的解决方法是否是最有效的或是将来能不能有
本质的提高。

这一章中我们将引入图的定义和基本属性。之后我们将介绍遍历图的主要方法。以图
的遍历为基础，可以证实许多自然的问题都可以非常有效的解决--在线性时间之内。
不严格的讲，我们可以称之为“简单”图问题，这不仅是说解决方法可以简单的找到
或是可以简单的写出程序，而且指一旦写出程序可以解决非常大的实例（比如图有上
1M个节点）。

继续我们不严格的分类，“中级”图问题需要多项式时间解决，但是需要比一次图
遍历更多的工作量。就是说，对于每一个“中级”问题，算法在一个固定幂的多项式
时间内解决问题，比如$n^2$或$n^d$（其中d是一个固定数）。许多此类问题的在后面
的章节中讲到；参见第8，9，14章。在今天强劲的计算机上解决比较大的问题是可以
实现的（比如上k或10k个节点）。

当然我们有“困难”图问题，目前不知道有在多项式时间内解决的方法。此类问题
当图有50个或是100个节点时就没有已知的方法可以解决了，即使允许计算机运行
一年的时间。然而，我们当前的知识不能排除找到有效算法的可能性。这些问题真正
代表了我们知识的前沿，我们将在第13章的讨论他们中的一些。

图问题一个迷人的方面是：只要稍微改变一下问题的形式，可能问题就会改变分类
简单，中级，困难。因此一个问题和已知问题的类似程度，以及改变一个问题的那个
方面会使的他们变的简单，中级或是困难对于解决一个新问题是很有帮助的。

\section{定义和表示}
非正式的，一个图是点（顶点或节点）的有限集合，他们中的一部分通过线或是
箭头（边）连接起来。如果边是无向的或是"双向的"，则图是无向图。如果边是有
向的或是“单边的”，则图是有向图。“有向图”一般简写成\emph{digraph}。“无向图”
有时简称“图”，但是这有时候会引起误解因为人们经常将无向图和有向图都简单的
称为“图”。我们经常在可能有歧义的上下文中使用特定的属于。一般的讨论“图”
既指无向图也指有向图。

\subsection{一些例子}
图是许多问题和结构的形象的抽象，包括运筹学、计算机科学、电子、经济、数学、
物理、化学、通信、博弈论和许多其他的方面。考虑下面的例子：

\begin{example}
航空路线图

一个航空路线图可以用无向图表示。点表示城市；两个城市用线连接当且仅当一个中途
不停的飞机在他们之间相互通行。图7.1（假想的）是California几个城市的航空路线。
\end{example}

\begin{example}
流程图

流程图表示了一个过程内的控制流，或是一个过程中数据或物质的流动。流程图的
框是点；流程图的箭头是边。图7.2 以Pascal语法显示了一个例子。
\end{example}

\begin{example}
二元关系

二元关系在\ref{Sec:Relationship}小节中定义。定义R是集合$S={1, \cdots, 10}$上的由
有序对(x,y)组成的二元关系，其中x是y的整数倍；就是说$x\neq y$且$y/x$的余数是0。回忆
$xRy$是$(x,y)\in R$的一种表示。在图7.3的有向图中，点是S的元素，当且仅当$xRy$时
x和y之间有连接边。注意R是传递的：如果$xRy$且$yRz$，则$xRz$。
\end{example}

\begin{example}
计算机网络

点是计算机。线（无向图）或箭头（有向图）是通信线路。图7.4展示了两个例子。
\end{example}

\begin{example}
集成电路

点可以是二极管、三极管、电容、开关等等。如果两者之间有电路连接则有线。
\end{example}

前面5个例子已经展示了：无向图和有向图提供了一种直接的对分离对象的关系的
抽象形式，包括物理对象和他们的关系（比如，通过航空线路、高速公路和铁路连接
的城市）以及抽象对象的关系（比如二元关系和程序控制结构）。

这些例子同时提出了一些我们可能希望回答的关于所表示的对象以及关系的问题，
这些问题可以转换成图的术语。这样的问题可以通过工作在图上的算法回答。例如，
问题“在San Diego和 Sacramento之间有直通航线吗？”可以转换成“图7.1中顶点
SD和SAC和有边吗？”考虑下面的问题：
\begin{enumerate}
\item 从San Diego飞到Sacramento最便宜的路线是那条？
\item 那条路有最短的飞行时间？
\item 然后一个城市的机场因为坏天气而关闭了，你仍然可以在每对城市之间飞行吗？
\item 如果网络中的一台电脑down掉了，网络中的每对计算机之间还能传递消息吗？
\item 一个点到另一个点之间道路的流量有多大？
\item 一个给定的二元关系是可传递的吗？
\item 给定一个流程图有循环吗？
\item 如何连接不同的电路端口使得连接所有的需要的电线最少？
\end{enumerate}
本章和下面的章中我们将学习算法回答大多数问题。

\subsection{基本的图定义}
本小节主要是图的定义和基本注意。许多申明和定义都同时适用于有向和无向图，
我们使用公用的符号表示两者共同的部分。当然，无向和有向图不一样的部分我们
将特别注明。

\begin{definition}
有向图

一个\emph{有向图或digraph}是一个pair $G=(V,E)$，这里$V$是一个集合，它
的元素是\emph{顶点}，$E$也是一个集合它的元素是$V$元素的有序对。顶点通常也叫
\emph{节点}。E的元素叫\emph{边}，或是\emph{有向边}，或是弧。对于$E$中的
有向边$(v, w)$，$v$叫做尾，$w$叫做头；$(v,w)$表示为一个有向箭头$v \rightarrow w$。
在文本中我们简单的写作$vw$。
\end{definition}

在二元关系例子中（例7.3，图7.3），
\begin{displaymath}
\begin{aligned}
&V={1,2, \cdots, 10}\\
&E={(1,2), \cdots, (1,10), (2,4),(2,6), (2,8), (2,10),(3,6),(3,9),(4,8),(5,10)}
\end{aligned}
\end{displaymath}

\begin{definition}
无向图

一个\emph{无向图或graph}是一个pair $G=(V,E)$，这里$V$是一个集合，它
的元素是\emph{顶点}，$E$也是一个集合它的元素是$V$元素的无序对。顶点通常也叫
\emph{节点}。E的元素叫\emph{边}，或是为了强调叫做\emph{无向边}。每一个边都
可以认为是包含两个元素$V$的子集；因此符号${v, w}$表示无向边。用v-w表示。在文本
中我们简单的写作$vw$。当然对于无向图$wv=vw$。
\end{definition}

例如对于例子7.1和图7.1，我们有
\begin{displaymath}
\begin{aligned}
&V=\{SF,OAK, SAC, STK, FRES, LA, SD\}\\
&E=\{(SF,STK), (SF,SAC), (SF,LA),(SF,SD), (SF,FRES),\\
&(SD,OAK),(SAC,LA),(LA,OAK),(LA,FRES),\\
&(LA,SD),(FRES, STK), (SD, FRES)\}
\end{aligned}
\end{displaymath}
无向图的定义暗示了不存在连接顶点自己的图：边定义为包含两个元素，一个集合
不能有重复的元素（定义1.3.1）。

定义7.3 子图,对称图,完全图

一个图G=(V,E)的子图$G'=(V',E'),V'\subseteq V, E'\subseteq E$。由图的定义
还需要满足$E' \subseteq  V'\times V'$.

对称图是这样的有向图:右边VW则必有反方向边WV.每个无向图有对应的对称图,把
无向边解释成相反方向的一对有向边.

完全图(通常是无向图)是每对顶点都有边的图.

边VW可说它是依附于顶点V和W的.


\subsection{图的表示和数据结构}
\subsubsection{邻接矩阵}
\subsubsection{邻接表数组}
\section{图的遍历}
大部分算法是为解决检查或处理图的顶点和边的问题的.广度优先查找和深度优先查找
提供了一种高效访问每个顶点和边仅一次的访问策略.（术语深度优先查找和深度优先
遍历是可互换的,广度优先查找和广度优先遍历也是类似的）。从而,许多算法以此为基础
运行在随输入图的大小呈线性增长的时间里。
\subsection{深度优先查找}
例7.6 深度优先查找
让我们从下图中的顶点A开始深度优先查找。为了简化，当我们有多条边可以探索时，我们将按字母顺序选择一条
\subsection{广度优先查找}
\subsection{深度优先查找和广度优先查找的比较}

\section{有向图的深度优先查找}
\subsection{深度优先查找和递归}\label{Sec:Depth-firstSearchandRecursive}
\subsection{使用深度优先查找连同分量}

\section{有向图的强连通分支}
\section{无向图的深度优先查找}
\section{无向图的二连通分支}
在7.2节，我们提出了这些问题：
\begin{enumerate}
\item 如果一个城市的机场因为坏天气而关闭了，你仍然能在其他的任意两个城市之间飞行吗？
\item 如果网络中一台计算机崩溃了，消息仍然能在其他的任意两台网络中计算机之间传递吗？
\end{enumerate}
本节中明我们仅考虑无向图。作为一个图问题：

\begin{problem}\vspace{1ex}
如果任一顶点（与之相关联的边）从连通图中移除了，剩下的子图仍然是连通的吗？
\end{problem}
这个问题在代表通信或运输网络的图中是非常重要的。如果移除之后就使得图不在连通，
找出这些顶点也是很重要的。本节的目的就是找到有效的算法来回答这些问题。这个算法是
由R.E.Tarjan发现的，这个算法也是早期体现出深度优先查找的强大威力的算法。

\subsection{关节顶点和二连通分支}
我们从建立一些技术和基本属性开始。
\begin{definition}
二连通分支

连通无向图G是二连通的，当移除它的任一顶点以及与顶点相连的边之后，图仍然是连通的。

无向图的一个\emph{二连通分支}（简写为bicomponent）是最大的二连通子图，就是说，
不被更大的二连通自图所包含。
\end{definition}

显然，移除一个关节顶点会留下一个不连通的图，所以一个连通图是\emph{二连通}的，
当且仅当它没有关节顶点。观察这一点，尽管二连通分支将边划到不相交集合，但是并
不严格得划分顶点；有些顶点在多个分支里面。（那些顶点是？）
